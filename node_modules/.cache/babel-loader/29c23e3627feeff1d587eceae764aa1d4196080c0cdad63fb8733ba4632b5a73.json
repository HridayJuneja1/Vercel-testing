{"ast":null,"code":"import React,{useEffect,useState}from'react';import{useParams,Link,Route,Routes}from'react-router-dom';import PersonalInfo from'./PersonalInfo';import PastOrders from'./PastOrders';import ReadyForPickup from'./ReadyForPickup';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Dashboard=()=>{const{userId}=useParams();const[userInfo,setUserInfo]=useState(null);const[pastOrders,setPastOrders]=useState([]);const[readyForPickup,setReadyForPickup]=useState([]);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);useEffect(()=>{if(!userId){setError(\"User ID is missing\");return;}const fetchDashboardData=async()=>{try{const response=await fetch(`/api/dashboard/${userId}`);if(!response.ok){throw new Error(`HTTP error! status: ${response.status}`);}const data=await response.json();setUserInfo(data.user);setPastOrders(data.pastOrders);setReadyForPickup(data.readyForPickup);setLoading(false);}catch(err){console.error('Error fetching dashboard data:',err);setError(err.message);setLoading(false);}};fetchDashboardData();},[userId]);if(loading){return/*#__PURE__*/_jsx(\"div\",{children:\"Loading...\"});}if(error){return/*#__PURE__*/_jsxs(\"div\",{children:[\"Error: \",error]});}return/*#__PURE__*/_jsxs(\"div\",{className:\"dashboard\",style:styles.dashboard,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"sidebar\",style:styles.sidebar,children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Dashboard\"}),/*#__PURE__*/_jsxs(\"ul\",{children:[/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:`/dashboard/${userId}/personal-info`,style:styles.sidebarLink,children:\"Personal Info\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:`/dashboard/${userId}/past-orders`,style:styles.sidebarLink,children:\"Past Orders\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:`/dashboard/${userId}/ready-for-pickup`,style:styles.sidebarLink,children:\"Books Ready for Pickup\"})})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"content\",style:styles.content,children:/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/personal-info\",element:/*#__PURE__*/_jsx(PersonalInfo,{userInfo:userInfo})}),/*#__PURE__*/_jsx(Route,{path:\"/past-orders\",element:/*#__PURE__*/_jsx(PastOrders,{pastOrders:pastOrders})}),/*#__PURE__*/_jsx(Route,{path:\"/ready-for-pickup\",element:/*#__PURE__*/_jsx(ReadyForPickup,{readyForPickup:readyForPickup})})]})})]});};const styles={dashboard:{display:'flex',fontFamily:'Arial, sans-serif',padding:'20px'},sidebar:{width:'200px',padding:'20px',backgroundColor:'#f5f5f5',borderRight:'1px solid #ddd'},sidebarLink:{textDecoration:'none',color:'#333',display:'block',margin:'10px 0',fontWeight:'bold'},content:{flex:1,padding:'20px'},section:{marginBottom:'30px'},listItem:{marginBottom:'10px'},button:{padding:'10px 20px',backgroundColor:'#007BFF',color:'white',border:'none',borderRadius:'4px',cursor:'pointer'}};export default Dashboard;","map":{"version":3,"names":["React","useEffect","useState","useParams","Link","Route","Routes","PersonalInfo","PastOrders","ReadyForPickup","jsx","_jsx","jsxs","_jsxs","Dashboard","userId","userInfo","setUserInfo","pastOrders","setPastOrders","readyForPickup","setReadyForPickup","loading","setLoading","error","setError","fetchDashboardData","response","fetch","ok","Error","status","data","json","user","err","console","message","children","className","style","styles","dashboard","sidebar","to","sidebarLink","content","path","element","display","fontFamily","padding","width","backgroundColor","borderRight","textDecoration","color","margin","fontWeight","flex","section","marginBottom","listItem","button","border","borderRadius","cursor"],"sources":["/Users/hrida/SYST35300/samskritabharati/src/components/Dashboard.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { useParams, Link, Route, Routes } from 'react-router-dom';\nimport PersonalInfo from './PersonalInfo';\nimport PastOrders from './PastOrders';\nimport ReadyForPickup from './ReadyForPickup';\n\nconst Dashboard = () => {\n  const { userId } = useParams();\n  const [userInfo, setUserInfo] = useState(null);\n  const [pastOrders, setPastOrders] = useState([]);\n  const [readyForPickup, setReadyForPickup] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    if (!userId) {\n      setError(\"User ID is missing\");\n      return;\n    }\n\n    const fetchDashboardData = async () => {\n      try {\n        const response = await fetch(`/api/dashboard/${userId}`);\n        if (!response.ok) {\n          throw new Error(`HTTP error! status: ${response.status}`);\n        }\n        const data = await response.json();\n        setUserInfo(data.user);\n        setPastOrders(data.pastOrders);\n        setReadyForPickup(data.readyForPickup);\n        setLoading(false);\n      } catch (err) {\n        console.error('Error fetching dashboard data:', err);\n        setError(err.message);\n        setLoading(false);\n      }\n    };\n\n    fetchDashboardData();\n  }, [userId]);\n\n  if (loading) {\n    return <div>Loading...</div>;\n  }\n\n  if (error) {\n    return <div>Error: {error}</div>;\n  }\n\n  return (\n    <div className=\"dashboard\" style={styles.dashboard}>\n      <div className=\"sidebar\" style={styles.sidebar}>\n        <h2>Dashboard</h2>\n        <ul>\n          {/* Use absolute paths */}\n          <li>\n            <Link to={`/dashboard/${userId}/personal-info`} style={styles.sidebarLink}>\n              Personal Info\n            </Link>\n          </li>\n          <li>\n            <Link to={`/dashboard/${userId}/past-orders`} style={styles.sidebarLink}>\n              Past Orders\n            </Link>\n          </li>\n          <li>\n            <Link to={`/dashboard/${userId}/ready-for-pickup`} style={styles.sidebarLink}>\n              Books Ready for Pickup\n            </Link>\n          </li>\n        </ul>\n      </div>\n\n      <div className=\"content\" style={styles.content}>\n        <Routes>\n            <Route path=\"/personal-info\" element={<PersonalInfo userInfo={userInfo} />} />\n            <Route path=\"/past-orders\" element={<PastOrders pastOrders={pastOrders} />} />\n            <Route path=\"/ready-for-pickup\" element={<ReadyForPickup readyForPickup={readyForPickup} />} />\n        </Routes>\n      </div>\n    </div>\n  );\n};\n\nconst styles = {\n    dashboard: {\n      display: 'flex',\n      fontFamily: 'Arial, sans-serif',\n      padding: '20px',\n    },\n    sidebar: {\n      width: '200px',\n      padding: '20px',\n      backgroundColor: '#f5f5f5',\n      borderRight: '1px solid #ddd',\n    },\n    sidebarLink: {\n      textDecoration: 'none',\n      color: '#333',\n      display: 'block',\n      margin: '10px 0',\n      fontWeight: 'bold',\n    },\n    content: {\n      flex: 1,\n      padding: '20px',\n    },\n    section: {\n      marginBottom: '30px',\n    },\n    listItem: {\n      marginBottom: '10px',\n    },\n    button: {\n      padding: '10px 20px',\n      backgroundColor: '#007BFF',\n      color: 'white',\n      border: 'none',\n      borderRadius: '4px',\n      cursor: 'pointer',\n    },\n  };\n\n\nexport default Dashboard;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}